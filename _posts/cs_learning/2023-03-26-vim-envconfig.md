---
layout: post
title: "Vim基本操作及Linux下C++开发环境配置"
subtitle: "Vim tutorial and env configuration for C++ in Linux"
date: 2023-03-26
author: "Kenshin"
header-img: "img/post-bg/post-bg-default.png"
tags: 
  - LearnCS
---

# Vim基本操作

![vim_keyboard](/img/in-post/cs_learning/2023-03-26-vimlinuxc.gif)

## 打开方式

1. vim [文件路径]
2. vim +[光标位置] [文件路径]
3. vim +/[高亮关键字] [文件路径]

## 模式

### 常规模式

#### 移动光标

- `h`或`←`：&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;光标左移一个字符
- `j`或`↓`：光标下移一个字符
- `k`或`↑`：光标上移一个字符
- `l`或`→`：光标右移一个字符
- `ctrl + 6`或`home`或`0`：光标移到行首
- `ctrl + 4`或`end`：光标移到行尾
- `ctrl + f`或`page down`：向下翻页
- `ctrl + b`或`page up`：向上翻页
- `ctrl + d`：向下翻半页
- `ctrl + u`：向上翻半页
- `gg`：移到首行
- `G`：移到末行
- `nG`：移到第n行

#### 搜索替换

- `/字符串 + 回车`：向下搜索指定字符串
- `n`：继续向下搜索下一个字符串
- `?字符串 + 回车`：向上搜索指定字符串
- `N`：继续向上搜索下一个字符串
- `:%s/word1/word2/g`：将整个文件中的word1替换为word2
- `:%s/word1/word2/gc`：将整个文件中的word1替换为word2，但替换前需要确认
- `:1,10s/word1/word2/g`：将第1行到第10行的word1替换为word2
- `:1,$s/word1/word2/g`：将第1行到当前行的word1替换为word2

#### 复制粘贴删除

- `x`：删除后一个字符
- `X`：删除前一个字符
- `dd`：剪切一行
- `yy`：复制一行
- `p`：粘贴到下一行
- `P`：粘贴到上一行
- `u`：撤回操作
- `Ctrl + r`：撤回刚才的撤回操作
- `.`：重复刚才的操作

### 插入模式

- `i`：进入插入模式
- `o`：在下一行插入新行并进入插入模式
- `R`：进入替代模式
- `esc`：退出插入模式，进入常规模式

### 命令模式

- `:w`：保存
- `:q`：退出
- `:wq`：保存后退出
- `:q!`：不保存，强制退出
- `:set nu`：显示行号
- `:set nonu`：取消显示行号
- `:w [文件名]`：将编辑后的内容保存到另一个文件中（另存为）
- `:2,5 w [文件名]`：将第2到5行的内容保存到另一个文件中（指定行另存为）
- `:r [文件名]`：输入另一个文件的内容，到光标的下一行

### 可视模式

- `v`：面向字符的可视模式
- `V`：面向行的可视模式
- `ctrl + v`：面向列块的可视模式
- `gv`：重选上次的高亮选区

# 【插入】tmux使用

## session

- `tmux` or `tmux new -s <session-name>`
- `tmux detach` or `ctrl+b d`
- `tmux ls` or `ctrl+b s`
- `tmux attach -t  <session-name>` or `tmux a -t  <session-name>`
- `tmux kill-session -t <session-name>` or `ctrl+d`
- `tmux switch -t <session-name>`
- `tmux rename-session -t <old-session-name> <new-session-name>` or `ctrl+b $`

## window

- `tmux new-window -n <window-name>` or `ctrl+b c`
- `tmux select-window -t <window-name>`
- `ctrl+b w` 显示窗口列表，通过j, k上下选择窗口，然后回车进入指定的窗口
- `ctrl+b p` 快速切换到上一个窗口
- `ctrl+b n` 快速切换到下一个窗口
- `tmux rename-window <new-window-name>` or `ctrl+b ,`
- `tmux kill-window -t <window-name>` or `ctrl+b &`


## pane

- `tmux split-window` or `ctrl+b "`
- `tmux split-window -h` or `ctrl+b %`
- `tmux select-pane -U` or `ctrl+b ↑`
- `tmux select-pane -D` or `ctrl+b ↓`
- `tmux select-pane -L` or `ctrl+b ←`
- `tmux select-pane -R` or `ctrl+b →`
- `ctrl +b ;` 光标切换到上一个窗格
- `ctrl +b o` 光标切换到下一个窗格
- `tmux swap-pane -U`
- `tmux swap-pane -D`
- `ctrl+b x` 关闭窗格
- `ctrl+b z` 放大窗格，再次触发还原
- `ctrl+b t` 显示时间，回车还原

# Linux下C++开发环境配置

> curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
>
> 然后复制.vimrc到HOME目录下，进入vim运行:PlugInstall

<!-- 
缓冲区(buffer)


什么是 vim 缓冲区 ？



在弄清楚 Buffer / Window / Tab之前看一下下面这张图：






我们用 vim 一次性打开多个文件 ：

如：

 vim test1 test2 test3 
界面可以看到，只会显示 test1 文件，其他俩个呢？ 其实都打开了，vim 把这三个文件都缓存起来了，只是显示出来的是第一个文件 test1 的内容而已，



vim 打开文件的时候就会创建缓冲区，打开几个就创建几个缓冲区，默认加载第一个缓冲区，显示第一个文件的内容。vim 的官方解释：缓冲区是一个文件的内容占用的那部分vim内存。



A buffer is an area of Vim’s memory used to hold text read from a file. In addition, an empty buffer with no associated file can be created to allow the entry of text.


怎么样使用缓冲区？



下面列出几个操作缓冲区的常用命令：

:ls  
列出所有的缓冲区



:bn
切换下一个缓冲区，显示下一个文件的内容



:bp 
切换上一个缓冲区，显示上一个文件的内容



:b number  
这里的 number 是缓冲区的一个数字编号，当 :ls 显示缓冲区的时候都会显示出一个缓冲区的编号



:b fileName  
这里的 fileName 是一个具体的文件名称，文件名称可以是正则表达式，也可以是文件名中的个别字母，一旦匹配就会加载该缓冲区，显示该文件。



窗口(window)


什么是 vim 窗口 ？






使用 vim 打开文件，呈现在你眼前的文件内容就是窗口，窗口是用来查看缓冲区的内容的。你可以用多个窗口查看同一个缓冲区，也可以用多个窗口查看不同的缓冲区。



怎么使用窗口 ？



可以在文章 精通 VIM ，此文就够了 中的分屏操作中看到一些详细操作。



标签 (Tab)


什么是 Tab ?






用过浏览器打开网页的我们都知道，打开网页的时候在浏览器的上方通常会有一个网页标签，这样方便我们快速切换不同的网页，vim 也有类似的概念，可以操考上图标记看到。



下面再来理清一下 Buffer / Window / Tab 三者之间的概念：



Buffer 是 vim 打开文件的时候创建的一个缓冲区，用来存储打开的文件 。 使用 vim 每打开一个文件就会创建一个 Buffer 。



窗口是用来展示 Buffer 的信息的，vim 之所以有 Buffer 的概念，大概就是窗口显示文件内容的时候，可以快速显示出来。



Tab 可以想象成浏览器中的标签页，不同之处是 vim 中的 一个Tab 可以有很多个窗口，每个窗口用来展示文件的内容信息。



我们通常可以根据我们的用途来创建 Tab ,比如：我在浏览一个项目，我可以创建两个 Tab , 一个 Tab 用来浏览前端代码， 一个 Tab 可以用来使用浏览后端代码。



下面列举一下关于 Tab 常见的几个命令如下：



:tabnew  web
使用 ：tabnew 创建一个名字叫 web 的 tab ,当然名字也可以没有，这样会创建一个没有名字的 tab



:tabc
关闭当前的 tab



:tabn
切换到下一个 tab



:tabp 
切换到上一个 tab



:tabs 
查看一共有几个 tab



gt 
这个是一个快捷键在正常模式下按下键盘上的 g 和 t 就会自动切换 tab



1gt
这是上一个命令的拓展，按下数字键（1，2，3，4……）和 gt ,将切换到相应顺序的 tab, tab 的序号默认从 1 开始，上面的命令将会切换到第一个 tab 。



标记 （mark)


什么是 mark ?



我们通常在读一本很厚的书的时候，通常会加上一个书签，用来标记我们的进度，在 vim 当中也有一个类似的概念，我们也可以使用 vim 在我们的文件上打上一个标记，方便我们快速的跳到这个位置。



如何使用 mark ?



按下键盘上的 m , 紧跟着在按下键盘上的（a-zA-Z）当中的任何一个字母，这样一个标记 （mark）例如 ma, mA 这样一个名字叫做 a 或者 A 的标记就建立起来了。



例如 :

ma 
意思在当前文件的光标所在的行建立了一个标记，以后我们可以快速定位到这个位置。



如何激活标记？



使用 ‘（单引号） 或者 ` (常规键盘靠近数字键 1 左边的按键，我这里就做撇号) ，紧接着按下当初标记的那个字母就会跳到当初标记的那个位置。

例如 ：

`a 和 ‘a



‘a 和 `a有什么区别呢？



‘a （也就是单引号+a） 是跳转到当初标记的行首

`a (也就是撇号+a) 实跳转到当初标记的时候光标所在的位置



‘ 和 ` 的 区别总结



‘（单引号）通常用来跳转到标记的文本的行首

’ (撇号) 通常用来跳转到标记的光标的位置



ma 和 mA有什么区别？



如果要是在文件之间跳转要使用大写的标记才可以，例如现在在当前文件的某处打了一个标记 mA , 离开该文件切换到了另一个文件，此时使用 ‘A 就可以返回之前文件打标记的地方了。

结论：小写字母通常用来单个文件坐标记，大写字母通常是用来文件间坐标记。



:marks 
列出所有的标记



:delmarks  a 
删除 a 标记 ,也可以一次删除多个标记，例如， :delmarks a b c d 这样就删除了 a , b , c , d 四个标记



:delmarks!
删除所有的标记（删除所有小写字母的标记）



总结：



m 是创建标记的关键字



a-zA-Z 是创建标记的名字，小写字母用来创建单个文件的标记，大些字母用来创建文件之间的标记。



` 撇号通常用来定位到之前光标所在的位置



‘ 单引号通常用来定位到标记所在的行



:marks 显示所有的标记



:delmarks 删除指定的标记



:delmarks! 删除所有标记（大些字母的标记除外）



寄存器(register)


什么是 vim 的寄存器？



顾名思义，一个存东西的机器， 在 精通 VIM ，此文就够了 文章中，我详细的列举了复制和黏贴的一些操作，你有没有想过使用 vim 复制东西的时候，它复制到哪里去了呢？

在使用不同操作系统的时候，我们经常会使用复制和黏贴的功能，当我们复制内容的时候，系统把内容放到了剪切板，当我们黏贴使用的时候就会快速的从剪切板里面获取内容。

vim 也有相似的逻辑，当我们使用 y 复制内容的时候，vim 默认把内容寄存到一个无名寄存器，当使用黏贴功能 p 的时候，就会默认从无名寄存器中取出内容。



vim 如何定义一个有名字的寄存器？



vim 默认使用的是无名寄存器，通常情况下我们使用是没有问题的，但是我就想把东西存到一个有名字的地方。

vim 通常使用 “（双引号）加上一个 a-z 的字母来给定义一个有名字的寄存器。

例如如下：

“ayy 表示的是复制当前行内容到 a 寄存器当中

“ap 表示的是从 a 寄存器当中取出内容



vim 如何查看所用寄存器寄存内容呢？



:reg
该命令会列出所有的寄存器

:reg a
会查看 a 寄存器里寄存的内容



如何使用自己命名的寄存器呢？



举例如下：

“ap 使用 p 黏贴命令就可以从指定的寄存器中取出内容了，该例就是从 a 寄存器中取出内容。



无名寄存器是怎么定义的？



“” 两个双引号就是一个无名寄存器，通常我们复制黏贴的时候都会自动启用这个寄存器。



总结：



关于寄存器的用处，这里不去过多的研究了，因为平时用的就少，有兴趣的可以使用 `:help reg` 查看一下寄存器的详细使用方法。

记住这个一个符号 “ （双引号）可以用来定义寄存器哟！
 -->

<!-- 
用 VIM 打开文件

如何用 VIM 去打开一个文件呢？

现在假如有一个文件 file1 ,只需要在文件前面加上 vim 关键字就好：

vim file1

上面这个命令将会打开 file1 这个文件，file1 是指你具体操作的文件名。

如何用 VIM 一次性打开多个文件呢？

现在有多个文件 file1 ，file2 , ... ,filen.

现在举例打开两个文件 file1，file2

vim file1 file2

该方式打开文件，显示屏默认显示第一个文件也就是 file1，如何进行文件间的切换呢？VIM 的正常模式下（参考上文关于正常模式的描述）按下键盘上的冒号 ：这时会在显示屏底部出现冒号 ：（进入了 VIM 的命令模式），然后在输入 ls ，屏幕上会出现打开的所有文件的序号和文件名，我们继续输入冒号 ： ，然后输入 bn (这里的 n需要做一个解释并不是键盘上的 n ,而是文件序号的代指，如 b1 代表显示屏上切换到第一个文件，b2 代表显示屏上切换到第二个文件)。

:ls

上面这个命令将会列出 VIM 打开的所有文件。

:b2

上面的这个命令将会在显示屏上显示第二个文件。

如何在显示屏上一次性显示多个文件呢？

VIM 可以实现分屏操作，一个屏幕被多个文件给分占，有左右和上下两种分屏的方式。

左右分屏如下操作：

vim -On file1 file2 ... filen

这里的 n （ n 是要打开的具体文件的数目：1,2,3 ...）是代表有几个文件需要分屏，从左至右依次显示 n 个文件。

上下分屏如下操作：

vim -on file1 file2 ... filen

这个命令跟上一个命令不同的是其中的参数 -on（ n 是要打开的具体文件的数目：1,2,3 ...） 中的 o 是小写，这样将会上下依次显示 n 个文件。

VIM 如何进行分屏操作呢？

请记住一个重要的组合键 Ctrl + w ,操作分屏离不开这个组合键(这里的组合键可没有 + ，只是 Ctrl 和 w 组合实现一个动能,下文谈到的组合健都这样描述 )。

按住组合键 Ctrl + w ，然后在按下 s

Ctrl + w s

上面这个命令将会上下分割当前打开的文件。

按住冒号：，紧接着输入 sp ,在键入文件名，如下：

:sp file

上面的这个命令将会上下分割当前文件和新打开的 file 。

按住组合键 Ctrl + w ,然后在按下 v

Ctrl +w v

上面的这个命令将会左右分割当前的文件

按住冒号 ：，紧接着输入 vsp ,在键入文件名称，如下：

:vsp file

上面的这个命令将会左右分割当前打开的文件和新打开的文件 file 。

分屏以后如何在文件间切换光标，和移动分屏？

1.切换左右分屏的光标 ：

Ctrl + w h

将当前光标定位到左边的屏幕

Ctrl + w l

将当前的光标定位到右边的屏幕

2.移动左右分屏 ：

Ctrl + w H

将当前的分屏移动到左边

Ctrl + w L

将当前的分屏移动到右边

3.切换上下分屏的光标 ：

Ctrl + w j

将当前的光标移动到下面的分屏

Ctrl + w k

将当前光标移动到上面的分屏

4.移动上下分屏：

Ctrl + w J

将当前的分屏移动到下面的分屏

Ctrl + w K

将当前的分屏移动到上面的分屏

如何关闭分屏呢？

Ctrl + w c

上面这个命令是关闭当前的分屏

Ctrl + w q

上面的这个命令也是关闭当前的分屏，如果是最后一个分屏将会退出 VIM 。

VIM 的退出

VIM 的最终操作就是 VIM 的退出，如何进行 VIM 的有效退出呢？下面针对 VIM 的退出来做一下说明：

:w

保存当前对文件的修改，但是不退出文件。

:w!

强制保存但是不退出文件。

:w file

保存当前的文件修改到 file 文件当中。

:q!

退出文件，对文件的修改不做保存。

:qa!

退出所有的文件，对所有的文件修改都不做保存。

:wq

退出文件并保存对文件的修改。

:x

退出文件并保存对文件的修改。

:e file

打开另一个文件。

:e!

放弃对文件的所有修改，恢复文件到上次保存的位置。

:saveas file

另存为 file。

:bn 和 :bp

当打开多个文件的时候可以输入 :bn 和 :bp 进行上一个文件或者下一个文件的切换。

以上的命令都是在命令行模式下的操作（也就是输入冒号 ：紧接着输入相应的字符命令如 :q! 就会执行退出操作）。 zempty 在这里要推荐一个常用的操作就是 ZZ , 当你对文件进行了修改，需要保存退出，那么可以在键盘上快速的键入两个大些的 Z (ZZ),这样文件就会快速的保存退出了 。

VIM 的输入模式

编辑器的主要功能就是输入文本，编辑文本，很多编辑器在打开文件的时候就可以通过键盘录入文字，但是 VIM 有稍许的不同，刚刚接触 VIM 的时候是很难对 VIM 进行编辑操作的，记得我在刚接触它的时候是很崩溃的（千万个草泥马在内心奔腾），但是你接触久了，了解的多了，也就理解如此设计的美妙之处。

如何使用 VIM 编辑文本？

这里有必要再强调一下，在使用 VIM 打开文件的时候，这时候的状态是正常模式（Normal-mode）,请务必记住这个模式，如果你不确定当前是否处在正常模式，请连续按两下键盘上的 jj (这个 jj 需要读者去做相应的配置，上文有做过讲解)，VIM 处理编辑文本需要从正常模式(Normal)切换到插入模式(Insert-mode),进入插入模式的时候你应该会在屏幕底部看到 INSERT 的提示，这时候就可以编辑文本了。

如何从正常模式进入插入模式呢？

请记住下面几个常用启动录入文本的键盘字符 i,I,a,A,o,O,s,S 。

i是在光标所在的字符之前插入需要录入的文本。

I 是在光标所在行的行首插入需要录入的文本。

a 是在光标所在的字符之后插入需要录入的文本。

A 是在光标所在行的行尾插入需要录入的文本。

o 是光标所在行的下一行行首插入需要录入的文本。

O 是光标所在行的上一行行首插入需要录入的文本。

s 删除光标所在处的字符然后插入需要录入的文本。

S 删除光标所在行，在当前行的行首开始插入需要录入的文本。

还有一个可能经常用到的就是 cw ，删除从光标处开始到该单词结束的所有字符，然后插入需要录入的文本（这个命令是两个字符的合体 cw ）。

VIM 的命令模式

关于命令模式上文有提到过，下面主要来列举几个常用的命令模式操作（命令输入完以后，需要按下 Enter 键去执行命令）：

文本的行号设置最好不要设置在配置文件中（因为复制文件的时候行号的出现会很麻烦），在命令行实现就好。

:set nu

该命令会显示行号。

:set nonu

该命令会取消行号。

:n

定位到 n 行。

VIM 进行关键字的查找。

/{目标字符串}

如：/zempty 会在文本中匹配 zempty 的地方高亮。

查找文本中匹配的目标字符串，查到以后，输入键盘上的 n 会去寻找下一个匹配，N 会去寻找上一个匹配。

VIM 处理大小写的区分

:set ic

编辑器将不会区分大小写，如果你进行该设置之后，进行关键字查询如 /zempty 如果文本中有 Zempty ,zEmpty,....,只要是字符相同不会区分大小写都会进行匹配。

:set noic

区分大小写的查询。

VIM 删除多行文本

:n1,n2d

n1 和 n2 指的是起始行号和结束行号，d 是删除关键字

VIM 处理文本的替换

:{作用范围}s/{目标}/{替换}/{替换的标志}

作用范围分为当前行、全文、选区等等。

:s/zempty/handsome/g

将会把当前光标所在行的 zempty 替换成 handsome

:%s/zempty/handsome/g

将会把全文中的 zempty 替换成 handsome

:n1,n2s/zempty/handsome/g

这里的 n1 和 n2 值得是行号，将会替换掉 n1 到 n2 的所有 zempty 为 handsome.

选区，在可视模式下选择区域后输入 : ，VIM 会自动补全为 :'<,'>。

:'<,'>s/zempty/handsome/g

这个操作咋一看起来有点懵逼，这个操作是可视模式 (Visual-mode) 下选区中的替换操作（可视模式下文会谈到），可视模式下输入：会自动补全 :'<,'> 这个是可视范围下的操作范围，类似于 % 和 n1,n2，代表操作的文本范围，上面的例子就是替换掉可视区域的 zempty 为 handsome。

下面来谈谈替换的标志。

上文中命令结尾的 g 即是替换标志之一，表示全局 global 替换（即替换目标的所有出现）。 还有很多其他有用的替换标志：

空替换标志表示只替换从光标位置开始，目标的第一次出现

:s/zempty/handsome

作用于当前行，从光标处开始查找替换，仅仅替换第一次匹配 zempty 的地方为handsome 。

:%s/zempty/handsome

替换掉文件中所有行第一次出现 zempty 的地方为 handsome 。

i 表示大小写不敏感查找，I 表示大小写敏感：

:%s/zempty/handsome/i

替换掉所有行第一个出现 zempty (不区分大小写) 为 handsome 。

:%s/zempty/handsome/gi

替换掉所有行出现 zempty (不区分大小写) 为 handsome 。

c 表示需要确认，例如全局查找"zempty"替换为"handsome"并且需要确认：

:%s/zempty/handsome/gc

VIM 执行 Linux 命令

:!command

: 后面紧跟着 ! ，! 后面紧跟着 linux 命令（ command 指操作 Linux 系统的一系列命令，如创建文件，新建文件夹，查询文件的属性的等），例子如下，

:!date

执行 date 命令显示时间，执行完命令以后按下键盘上的 Enter 就会返回到文件。

VIM 执行命令，并且添加结果至操作文本光标处

:r !command

: 后面紧跟着 r , r 后面是空格，紧接着是 !command( command 解释同上)，例子如下，

:r !date

执行 date 命令显示时间，并且添加命令结果到文本中。

定义快捷键

下面举例说明：

:map ^M I#<ESC>

上面的例子也就是通过快捷键 Ctrl + m 在文件光标处所在行的行首插入 # （ # 代表注释）。

: 后面的 map 是关键字 ，后面是 key 和 value 。

key 对应的是 ^M ， 这个 key 需要强调一下 ^M 是 Ctrl + v + m 打出来的（按下这三个键，VIM 会显示成 ^M ）,^M 代表快捷键是Ctrl + m , Ctrl + v + n 就是 ^N ,代表快捷键是 Ctrl + n 。Ctrl + v + x 就是 ^X (这里的 x 是代表 26 个字母中的任意一个) 代表快捷键 Ctrl + x。

value 对应的是 I#<ESC>,表示按下快捷键以后执行的相应操作，I 是切换光标至行首并切换到编辑模式，#是行首输入的内容（ # 是VIM 文件中的注释符号 ），<ESC> 是退出编辑模式。

举例如下：

:map ^D Ahelloworld<ESC>表示在文件的光标所在行的行尾，添加 helloworld 字符串，按住组合键 ctrl + d 就会执行操作。

使用 ab

:ab email kickcodeman@gmail.com

: 后面的 ab 是关键字 ,该命令执行后，然后切换到编辑模式下,输入 email 会把输入的 email 自动替换成 kickcodeman@gmail.com。

这个命令主要是处理频繁输入同样的长串字符串。

VIM 的正常模式（Normal-model）

VIM 正常模式下，主要进行的操作有光标的移动，复制文本，删除文本，黏贴文本等。

快速移动光标

几个重要的快捷键

请记住这几个快捷键 h,j,k,l 这几个按键主要是用来快速移动光标的，h 是向左移动光标，l 是向右移动光标，j 是向下移动光标，k 是向上移动光标，h , j , k ,l 在主键盘区完全可以取代键盘上的 ↑ ,↓ ,← , → 的功能。

在当前行上移动光标

0 移动到行头

^ 移动到本行的第一个不是 blank 字符

$ 移动到行尾

g_ 移动到本行最后一个不是 blank 字符的位置

w 光标移动到下一个单词的开头

e 光标移动到下一个单词的结尾

fa 移动到本行下一个为 a 的字符处，fb 移动到下一个为 b 的字符处

nfa 移动到本行光标处开始的第 n 个 字符为 a 的地方（n 是 1，2，3，4 ... 数字）

Fa 同 fa 一样，光标移动方向同 fa 相反

nFa 同 nfa 类似，光标移动方向同 nfa相反

ta 移动光标至 a 字符的前一个字符

nta 移动到第二个 a 字符的前一个字符处

Ta 同 ta 移动光标方向相反

nTa 同 nta 移动光标方向相反

; 和, 当使用 f, F, t ,T, 关键字指定字符跳转的时候，使用 ；可以快速跳转到写一个指定的字符，, 是跳到前一个指定的字符

跨行移动光标

nG 光标定位到第 n 行的行首

gg 光标定位到第一行的行首

G 光标定位到最后一行的行首

H 光标定位到当前屏幕的第一行行首

M 光标移动到当前屏幕的中间

L 光标移动到当前屏幕的尾部

zt 把当前行移动到当前屏幕的最上方，也就是第一行

zz 把当前行移动到当前屏幕的中间

zb 把当前行移动到当前屏幕的尾部

% 匹配括号移动，包括 ( , { , [ 需要把光标先移动到括号上

* 和 # 匹配光标当前所在的单词，移动光标到下一个（或者上一个）匹配的单词（ * 是下一个，# 是上一个）

翻页操作

ctrl+f 查看下一页内容

ctrl+b 查看上一页内容

VIM 的复制，黏贴 ，删除

三个重要的快捷键 d , y , p

d 是删除的意思，通常搭配一个字符 ( 删除范围 ) 实现删除功能，常用的如下：

dw 删除一个单词

dnw 删除 n 个单词，

dfa 删除光标处到下一个 a 的字符处（ fa 定位光标到 a 处 ）

dnfa 删除光标处到第 n 个 a 的字符处

dd 删除一整行

ndd 删除光标处开始的 n 行

d$ 删除光标到本行的结尾

dH 删除屏幕显示的第一行文本到光标所在的行

dG 删除光标所在行到文本的结束

y 是复制的意思，通常搭配一个字符（复制范围）实现复制的功能，常用的如下：

yw 复制一个单词，还有 ynw

yfa 复制光标到下一个 a 的字符处,还有ynfa

yy 复制一行，还有 nyy

y$ 复制光标到本号的结尾

yH 复制屏幕显示的第一行文本到光标所在的行

yG 复制光标所在行到文本的结束

p ，P是黏贴的意思，当执行完复制或者黏贴的命令以后，VIM 会把文本寄存起来。

p 在光标后开始复制

P 大写的 P 光标前开始复制

撤销操作和恢复

u 撤销刚才的操作

ctrl + r 恢复撤销操作

删除字符操作和替换

x 删除光标当前所在的字符

r 替换掉光标当前所在的字符

R 替换掉从光标开始以后的所有字符，除非 <ESC > 退出，或者 jj （代替 <ESC> 上文有提到）退出。

大小写转换

~ 将光标下的字母改变大小写
3~ 将光标位置开始的3个字母改变其大小写
g~~ 改变当前行字母的大小写
gUU 将当前行的字母改成大写
guu 将当前行的字母全改成小写

3gUU 将从光标开始到下面3行字母改成大写
gUw 将光标下的单词改成大写。
guw 将光标下的单词改成小写

VIM 的重复命令

. 该命令是重复上一个操作的命令
n<command>重复某个命令 n 次，
如 10p复制 10 次，10dd 删除十次。

VIM 可视化模式（Visual-mode)

v,V,Ctrl+v

v字符可视化，按下键盘上的v以后，屏幕底部应该会有一个 VISUAl 的提示，操作 h,j,k,l就选中文本，继续按 v 退出可视化模式。

V 行可视化，按下键盘上的 V 以后，屏幕底部应该有一个 VISUAL LINE 的提示，操作 j,k 可以向上或者向下以行为单位选中文本，继续按下 V 退出可视化模式。

Ctrl+v 块状可视化，按下键盘上的 Ctrl+v 以后，屏幕底部应该会有一个提示 VISUALBLOCK ，可以通过 h,j,k,l 块状的操作选择区域，这是很多编辑器都不可以做到的，继续按下 Ctrl+v 会退出可视化模式。


可视化模式下操作文本

可视化模式下选择操作区域以后，
按下 d会删除选择的区域，
按下 y 会复制选择的区域，按下 p 会黏贴选择的区域。


可视化模式下 v 的特殊操作

当操作的文本光标在 “”，‘’ ，（），{} ，[（双引号，单引号，小括号，大括号，中括号）
当中的时候,可以通过 va"选中 ”“ 内的所有内容包括双引号 ，vi" 选中 "" 内的所有内容，不包括 ""。va,vi 会快速选择区域，va 后面会紧跟一个区域结束标志，a 会选中结束符标志，i 就不会。例子如下：

"hello world [VIM is so strong],{we all can master vim skill}"

假设当前光标定位在上面的文本 M 处：
va] 操作将会选中以下文本（加粗部分）：
“hello world [VIM is so strong],{we all can master vim skill}“
vi] 操作将会选中如下的区域，没有包含 []：
“hello world [VIM is so strong],{we all can master vim skill}“


块区域下的特殊操作

Ctrl+v 选中块区域以后，按下大写的 I 或者 A 可以在区域的前面或者后面输入内容，按下 jj 或者 <ESC>,可以看到选中的区域前面或者后面会有输入的内容。

VIM 的代码提示功能

在编辑模式下 ，快捷键 Ctrl+n 或者 Ctrl+p 会有代码提示功能，我们可以实现快速录入的效果。


VIM 的宏录制

假设需要操作的文本如下,需要将如下的多行文本的首行键入一个 tab 键。

hello
hello world
hello world , vim


宏录制的录制操作

先将光标移动到第一行，在普通模式下按下 q 键（宏录制是 q 键启动的),在按一个 a （字母随意）,表示该宏注册为 a ，按下 I 在行首插入一个 tab 键，按下jj或者 <ESC>退出编辑模式,按下 j 将光标移动到下一行行首，最后按下 q 键完成录制操作（宏录制是 q 键结束的）。
总结上面例子的操作流程：
q → a → I → tab → jj → j → q
上面的例子成功地把在行首插入 tab 的功能录制了下来，那么如何应用到其他行呢？


宏录制的使用

上述的例子，在正常模式下，按 @a执行宏录制的一系列动作，将会在第二行执行插入 tab 。
@@ 是对上一次宏使用的重复操作。n@a 就会执行 n 次一系列的动作。使用宏录制可以一次执行一系列的操作，可以针对一些重复度较高的操作进行宏录制。
 -->

<!-- 
1.vim

            vim +/string file #打开file，并将光标停留在"string"位置

//命令模式：用户刚刚启动vim，就会进入命令模式

            //此状态下敲击键盘会被识别为命令，具体的命令如下：

            i #切换到输入模式，以输入字符

            x #删除当前光标所在处的字符

            : #切换到底线命令模式，以在最底一行输入命令

//输入模式

//底部命令行模式

            /word #搜索光标之下的字符串

            ?word #搜索光标之上的字符串

            /word/+number #将光标停在包含word行的后面第number行上

            /word/-number #将光标停在包含word行的后面第number行上

           

            :n1,n2s/word1/word2/g //在n1 n2行之间寻找word1这个字符串，并用word2来取代

            :1,$s/word1/word2/g 或 :%s/word1/word2/g //从第一行到最后一行执行上面的操作

            :1,$s/word1/word2/gc 或 :%s/word1/word2/g //从第一行到最后一行，替换时会询问是否替换

            :set nu //设置行号

            :set nonu //取消行号

           

2.tail

//该命令用于查看文件的内容，有一个常用参数 -f 常用于查阅正在改变的日志文件

            tail [参数] [文件]

            //参数：

            -f //循环读取

            -v //不显示处理信息

            -c<数目> //显示详细的处理信息

            -n<行数> //显示文件的尾部n行内容

            --pid=PID 与-f合用，//表示在进程ID，PID死掉之后结束

            -q,--quiet,--silent //从不输出给文件名的首部

            -s,--sleep-intervel=S //与-f合用，表示在每次反复的休眠间隔休眠S秒

           

3.grep

/*用于查找文件里符合条件的字符串，如果发现某文件里的内容符合所指定的范本样式，预设grep指令会把

含有范本样式的那一列显示出来。*/

            grep [选项] 文件

            ps -ef|grep process //查找指定进程

            ps -ef|grep -c process //查找指定进程个数

            cat test.txt|grep -f test2.txt //输出test.txt中含有test2.txt中读取出的关键词的内容行

            cat test.txt|grep -nf test2.txt //与上一条命令输出相同，但是显示行号

            grep "word" file1 file2 //将file1和file2中与word匹配的行输出

            grep -f file1 file2 //将file1和file2中相同的行输出

            grep -v word1 file | grep -v word2 //将file中不包含word1和word2的行输出

           

            //-r 递归查找子目录 (效率低，搜索速度很慢)

            grep 'word' //在当前目录查找带word行的文件

            grep -r 'word' //在当前目录及其子目录下搜索word行文件

            grep -l -r 'word' //不显示匹配的行，只显示匹配的文件

           

            //列出关键字所在的前后几行

            grep -A n 'word' file //后n行

            grep -B n 'word' file //前n行

            grep -C n 'word' file //前后n行

           

            cat test.txt|grep -E "word1|word2" //多字符串匹配，显示包含word1或word2字符的内容行
-----------------------------------
VIM 命令常用
https://blog.51cto.com/u_15127569/4529044
-->